
<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
    <title>DD_XIE的学习笔记</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="">
    <meta name="description" content="前端学习">
    
        <link rel="icon" href="/favicon.ico">
    
    
        
            <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
        
            <link rel="stylesheet" href="/css/stage.css">
        
            <link rel="stylesheet" href="/css/avatar-bg.css">
        
    
</head>
</html>
<body>
<header id="header">
    <div class="menu">
        <i class="fa fa-bars"></i>
    </div>
    <div class="header-main">
        <h1><a href="/">DD_XIE的学习笔记</a></h1>
    </div>
    <div id="nav">
        <div class="nav-img" id="nav-img"></div>
        <div class="sentences">
            丢弃所有的负担，不再孤单。
        </div>
    </div>
</header>

<div id="content-outer">
    <div id="content-inner">
        <div class="clearfix">
    
    <div id="recent-posts">
        
            <div class="post-item">
                <h1>
                    <a href="/2019/08/05/ArcGIS-API-for-JS09/">
                        ArcGIS API For JavaScript本地部署（IIS）
                    </a>
                </h1>
                <div class="create">
                    <span>创建于</span>
                    
                        <time datetime="2019-08-05T10:23:24.000Z">
                            2019-08-05
                        </time>
                    
                    <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ArcGIS/">ArcGIS</a></li></ul>
                </div>
                
                    <p>在windows系统，我们总是将ArcGIS API For JavaScript部署在IIS中，而不是部署在Tomcat中，其实在IIS中的配置和Tomcat中的配置ArcGIS API几乎没有什么差别，在本篇文章中，主要讲解在IIS中的配置ArcGIS API。<br>部署本地环境在IIS主要分为以下几个步骤： </p>
<ol>
<li>下载ArcGIS API For JavaScript函数库 </li>
<li>安装IIS软件并进行配置 </li>
<li>修改相应的js文件（2个文件） </li>
<li>将修改好的函数库复制到指定位置 </li>
<li>测试ArcGIS API For JavaScript函数库是否安装成功。<br>###　下载ArcGIS API For JavaScript函数库<br>ArcGIS API For JavaScript<br>下载的函数库如图所示:<br><img src="/2019/08/05/ArcGIS-API-for-JS09/01.png" alt="01.png"><br>###　安装IIS软件并进行配置（略）<br>###　修改相应的js文件（2个文件）<br>修改 文件一（init.js）<br>位置：arcgis_js_v317_api\arcgis_js_api\library\3.17\3.17\init.js<br>将[HOSTNAME_AND_PATH_TO_JSAPI]替换成localhost/arcgis_js_api/library/3.17/3.17/<br>修改文件二（dojo.js）<br>位置：arcgis_js_v317_api\arcgis_js_api\library\3.17\3.17\dojo\dojo.js<br>将[HOSTNAME_AND_PATH_TO_JSAPI]替换成localhost/arcgis_js_api/library/3.17/3.17/</li>
</ol>

                
                <div class="readmore">
                    <a href="/2019/08/05/ArcGIS-API-for-JS09/">
                        阅读更多
                    </a>
                </div>
            </div>
        
            <div class="post-item">
                <h1>
                    <a href="/2019/08/05/ArcGIS-API-for-JS08/">
                        ArcGIS Server之发布地理编码服务
                    </a>
                </h1>
                <div class="create">
                    <span>创建于</span>
                    
                        <time datetime="2019-08-05T09:48:35.000Z">
                            2019-08-05
                        </time>
                    
                    <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ArcGIS/">ArcGIS</a></li></ul>
                </div>
                
                    <p>地理编码服务是指建立地理位置坐标与给定地址的过程，简单的说就是将一个地址的描述信息映射为地图上所对应的空间位置，地理编码服务是GIS中比较重要的一个功能。<br>有的时候我们知道一个具体的地理坐标，却想知道这个地方的地址，就称作逆地理编码。</p>
<h3 id="地理编码工具（Geocoding-Tools）locator制作"><a href="#地理编码工具（Geocoding-Tools）locator制作" class="headerlink" title="地理编码工具（Geocoding Tools）locator制作"></a>地理编码工具（Geocoding Tools）locator制作</h3><p>打开arcCatalog，找到工具箱ArcToolbox中的Geocoding Tools—Create Address Locator，界面如下：<br><img src="/2019/08/05/ArcGIS-API-for-JS08/01.png" alt="01.png"><br><img src="/2019/08/05/ArcGIS-API-for-JS08/02.png" alt="02.png"></p>
<h3 id="locator已经制作完成，接下来就是发布地理编码服务"><a href="#locator已经制作完成，接下来就是发布地理编码服务" class="headerlink" title="locator已经制作完成，接下来就是发布地理编码服务"></a>locator已经制作完成，接下来就是发布地理编码服务</h3><p><img src="/2019/08/05/ArcGIS-API-for-JS08/03.png" alt="03.png"><br>右键locator工具，选择Share as—Geocode Service，界面如下：<br><img src="/2019/08/05/ArcGIS-API-for-JS08/04.png" alt="04.png"></p>
<h3 id="到这里，地理编码服务已经结束，最后是测试一下发布的服务是否成功"><a href="#到这里，地理编码服务已经结束，最后是测试一下发布的服务是否成功" class="headerlink" title="到这里，地理编码服务已经结束，最后是测试一下发布的服务是否成功"></a>到这里，地理编码服务已经结束，最后是测试一下发布的服务是否成功</h3><p>（1）测试Find Address Candidates<br><img src="/2019/08/05/ArcGIS-API-for-JS08/05.png" alt="05.png"><br><img src="/2019/08/05/ArcGIS-API-for-JS08/06.png" alt="06.png"><br>（2）测试Reverse Geocode<br><img src="/2019/08/05/ArcGIS-API-for-JS08/07.png" alt="07.png"></p>

                
                <div class="readmore">
                    <a href="/2019/08/05/ArcGIS-API-for-JS08/">
                        阅读更多
                    </a>
                </div>
            </div>
        
            <div class="post-item">
                <h1>
                    <a href="/2019/08/05/ArcGIS-API-for-JS07/">
                        ArcGIS Server之发布网络分析服务
                    </a>
                </h1>
                <div class="create">
                    <span>创建于</span>
                    
                        <time datetime="2019-08-05T09:30:10.000Z">
                            2019-08-05
                        </time>
                    
                    <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ArcGIS/">ArcGIS</a></li></ul>
                </div>
                
                    <p> ArcGIS中网络分析分为 : 最短路径分析，服务区信息等等,如果想要在Web应用程序中使用网络分析服务，需要将我们的数据发布为网络分析服务</p>
<h3 id="发布网络分析服务"><a href="#发布网络分析服务" class="headerlink" title="发布网络分析服务"></a>发布网络分析服务</h3><p>步骤如下：</p>
<p>1.利用ArcMap创建网络（如何创建网络，请查看ArcGIS帮助文档）<br>2.将创建的地图进行符号化<br>3.开启网络分析权限,添加分析图层<br>4.修改属性，将其发布为网络服务</p>
<h4 id="利用ArcMap创建网络"><a href="#利用ArcMap创建网络" class="headerlink" title="利用ArcMap创建网络"></a>利用ArcMap创建网络</h4><p>创建的网络为：<br><img src="/2019/08/05/ArcGIS-API-for-JS07/01.png" alt="01.png"></p>
<h4 id="将创建的地图进行符号化"><a href="#将创建的地图进行符号化" class="headerlink" title="将创建的地图进行符号化"></a>将创建的地图进行符号化</h4><p><img src="/2019/08/05/ArcGIS-API-for-JS07/02.png" alt="02.png"></p>
<h4 id="开启网络分析权限并添加分析图层"><a href="#开启网络分析权限并添加分析图层" class="headerlink" title="开启网络分析权限并添加分析图层"></a>开启网络分析权限并添加分析图层</h4><p><img src="/2019/08/05/ArcGIS-API-for-JS07/03.png" alt="03.png"><br>右击空白处Network Analyst<br><img src="/2019/08/05/ArcGIS-API-for-JS07/04.png" alt="04.png"><br>网络分析工具条<br><img src="/2019/08/05/ArcGIS-API-for-JS07/05.png" alt="05.png"><br>如果想要进行最短路径分析，进行新建路径<br><img src="/2019/08/05/ArcGIS-API-for-JS07/06.png" alt="06.png"><br><img src="/2019/08/05/ArcGIS-API-for-JS07/07.png" alt="07.png"><br>注：将路径图层名称修改为英文名（此处改为Route）<br>如果进行服务区分析，添加服务区图层<br><img src="/2019/08/05/ArcGIS-API-for-JS07/08.png" alt="08.png"></p>
<h4 id="修改属性并将其发布为网络服务"><a href="#修改属性并将其发布为网络服务" class="headerlink" title="修改属性并将其发布为网络服务"></a>修改属性并将其发布为网络服务</h4><p>利用ArcMap链接ArcGIS Server ，并取名为mynet<strong>（存放在Test目录下）</strong>，到达服务编辑器<br><img src="/2019/08/05/ArcGIS-API-for-JS07/09.png" alt="09.png"></p>
<h3 id="查看服务是否发布成功"><a href="#查看服务是否发布成功" class="headerlink" title="查看服务是否发布成功"></a>查看服务是否发布成功</h3><p>从网站出输入网址<a href="http://localhost:6080/arcgis/rest/services,进入Test文件夹，可以看到我们刚刚发布的网络服务：" target="_blank" rel="noopener">http://localhost:6080/arcgis/rest/services,进入Test文件夹，可以看到我们刚刚发布的网络服务：</a><br><img src="/2019/08/05/ArcGIS-API-for-JS07/10.png" alt="10.png"></p>

                
                <div class="readmore">
                    <a href="/2019/08/05/ArcGIS-API-for-JS07/">
                        阅读更多
                    </a>
                </div>
            </div>
        
            <div class="post-item">
                <h1>
                    <a href="/2019/08/05/ArcGIS-API-for-JS06/">
                        ArcGIS Server之发布结果地图服务
                    </a>
                </h1>
                <div class="create">
                    <span>创建于</span>
                    
                        <time datetime="2019-08-05T09:09:57.000Z">
                            2019-08-05
                        </time>
                    
                    <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ArcGIS/">ArcGIS</a></li></ul>
                </div>
                
                    <h3 id="什么是结果地图服务？"><a href="#什么是结果地图服务？" class="headerlink" title="什么是结果地图服务？"></a>什么是结果地图服务？</h3><p>在ArcGIS中空间插值应该是我们经常用到的操作，但是在ArcGIS API却并没有提供相应的功能，上篇提到用GP服务来实现我们的功能，但是又有一个问题存在，插值之后的数据时栅格数据，在客户端我们应该怎么接受插值后的栅格数据呢，接受到的栅格信息我们又要怎么显示呢？此时就用到了我们的结果地图服务！！，所谓的结果地图服务，便是为了接受GP服务返回栅格数据的情况。</p>
<h3 id="发布结果地图服务"><a href="#发布结果地图服务" class="headerlink" title="发布结果地图服务"></a>发布结果地图服务</h3><p>以空间插值为例，创建我们的结果地图服务，创建结果地图服务一般步骤如下：</p>
<p>1.创建模型<br>2.修改我们的模型参数<br>3.运行新创建的模型<br>4.将运行后的结果进行渲染<br>5.将模型发布为服务</p>
<h4 id="创建空间插值模型"><a href="#创建空间插值模型" class="headerlink" title="创建空间插值模型"></a>创建空间插值模型</h4><p><img src="/2019/08/05/ArcGIS-API-for-JS06/01.png" alt="01.png"><br>注：参数一定要用英文</p>
<h4 id="修改我们的模型参数"><a href="#修改我们的模型参数" class="headerlink" title="修改我们的模型参数"></a>修改我们的模型参数</h4><p>将Input的类型改为要素集<br><img src="/2019/08/05/ArcGIS-API-for-JS06/02.png" alt="02.png"></p>
<h4 id="运行新创建的模型"><a href="#运行新创建的模型" class="headerlink" title="运行新创建的模型"></a>运行新创建的模型</h4><p>运行我们的模型结果<br><img src="/2019/08/05/ArcGIS-API-for-JS06/03.png" alt="03.png"><br>将运行后的结果进行渲染（很重要）<br><img src="/2019/08/05/ArcGIS-API-for-JS06/04.png" alt="04.png"><br>注：很重要，如果选择的渲染方式不好，那么Web端返回的结果变不是很好。</p>
<h4 id="将模型发布为服务"><a href="#将模型发布为服务" class="headerlink" title="将模型发布为服务"></a>将模型发布为服务</h4><p>点击地理处理-&gt;结果-&gt;右键模型共享为地理处理服务，服务名称为：Myking，存放在Test文件夹下面：<br><img src="/2019/08/05/ArcGIS-API-for-JS06/05.png" alt="05.png"><br>修改服务参数为同步，并查看地图服务结果<br><img src="/2019/08/05/ArcGIS-API-for-JS06/06.png" alt="06.png"><br>注：一定要勾选查看含地图服务的结果，很重要！！很重要！！很重要！！<br>修改服务属性参数<br><img src="/2019/08/05/ArcGIS-API-for-JS06/07.png" alt="07.png"></p>

                
                <div class="readmore">
                    <a href="/2019/08/05/ArcGIS-API-for-JS06/">
                        阅读更多
                    </a>
                </div>
            </div>
        
            <div class="post-item">
                <h1>
                    <a href="/2019/08/05/ArcGIS-API-for-JS05/">
                        ArcGIS Server之发布GP服务-返回矢量数据
                    </a>
                </h1>
                <div class="create">
                    <span>创建于</span>
                    
                        <time datetime="2019-08-05T08:51:51.000Z">
                            2019-08-05
                        </time>
                    
                    <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ArcGIS/">ArcGIS</a></li></ul>
                </div>
                
                    <h3 id="什么是GP服务"><a href="#什么是GP服务" class="headerlink" title="什么是GP服务"></a>什么是GP服务</h3><p>在WebGIS开发当中，虽然ArcGIS API提供给我们很多的接口，但是现实需求总是千变万化的，很多可能部分需求在我们的API中没有实现，而GP服务就弥补了这一个缺点，我们可以将ArcGIS中的GP工具发布为服务，提供给我们前端调用。</p>
<h4 id="GP服务的分类"><a href="#GP服务的分类" class="headerlink" title="GP服务的分类"></a>GP服务的分类</h4><p>GP服务从返回类型上可以分为：</p>
<blockquote>
<p>返回矢量数据<br>返回栅格数据</p>
</blockquote>
<h4 id="GP服务的参数对应"><a href="#GP服务的参数对应" class="headerlink" title="GP服务的参数对应"></a>GP服务的参数对应</h4><p>在ArcGIS中，GP工具的参数和GP服务的参数是有一个对应参数的，在现实开发中，GP服务总是容易调用失败，这很有可能便是GP服务的参数不对应导致，因此：当我们发布GP服务时，参数便是我们高度重视的地方。以下是GP服务和GP工具参数对应表：<br><img src="/2019/08/05/ArcGIS-API-for-JS05/01.png" alt="01.png"></p>
<h3 id="发布GP服务"><a href="#发布GP服务" class="headerlink" title="发布GP服务"></a>发布GP服务</h3><p> 在本实例中以缓冲区分析为例，发布一个GP服务。在ArcGIS10.1版本以后，发布GP服务之前需要将GP工具成功运行一次才可。发布GP服务的步骤大致分为以下几步：</p>
<p>1.创建GP模型<br>2.修改模型参数，运行模型<br>3.在结果窗口将运行成功的GP模型共享为服务</p>
<h4 id="创建GP模型"><a href="#创建GP模型" class="headerlink" title="创建GP模型"></a>创建GP模型</h4><p>新建一个工具箱并创建一个新模型取名为Mybuffer<br><img src="/2019/08/05/ArcGIS-API-for-JS05/02.png" alt="02.png"><br><img src="/2019/08/05/ArcGIS-API-for-JS05/03.png" alt="03.png"><br>右键Mybuffer点击编辑构建缓冲区模型<br><img src="/2019/08/05/ArcGIS-API-for-JS05/04.png" alt="04.png"></p>
<h4 id="修改模型参数并运行模型"><a href="#修改模型参数并运行模型" class="headerlink" title="修改模型参数并运行模型"></a>修改模型参数并运行模型</h4><p><img src="/2019/08/05/ArcGIS-API-for-JS05/05.png" alt="05.png"><br>修改Input变量的数据类型，改为输入要素集<br><img src="/2019/08/05/ArcGIS-API-for-JS05/06.png" alt="06.png"><br>设置临时命名空间，右键空白处，点击模型属性，设置环境<br><img src="/2019/08/05/ArcGIS-API-for-JS05/07.png" alt="07.png"><br>点击保存运行模型<br><img src="/2019/08/05/ArcGIS-API-for-JS05/08.png" alt="08.png"><br>运行成功<br><img src="/2019/08/05/ArcGIS-API-for-JS05/09.png" alt="09.png"></p>
<h4 id="在结果窗口将运行成功的GP模型共享为服务"><a href="#在结果窗口将运行成功的GP模型共享为服务" class="headerlink" title="在结果窗口将运行成功的GP模型共享为服务"></a>在结果窗口将运行成功的GP模型共享为服务</h4><p>点击地理处理-&gt;结果打开结果窗口<br><img src="/2019/08/05/ArcGIS-API-for-JS05/10.png" alt="10.png"><br>右键模型共享为地理处理服务<br><img src="/2019/08/05/ArcGIS-API-for-JS05/11.png" alt="11.png"></p>

                
                <div class="readmore">
                    <a href="/2019/08/05/ArcGIS-API-for-JS05/">
                        阅读更多
                    </a>
                </div>
            </div>
        
            <div class="post-item">
                <h1>
                    <a href="/2019/08/05/ArcGIS-API-for-JS04/">
                        ArcGIS Server之发布影像服务
                    </a>
                </h1>
                <div class="create">
                    <span>创建于</span>
                    
                        <time datetime="2019-08-05T08:25:58.000Z">
                            2019-08-05
                        </time>
                    
                    <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ArcGIS/">ArcGIS</a></li></ul>
                </div>
                
                    <p>在实际开发过程中，为了满足用户不同的需求，Esri制定了各种不同的服务类型，每一种服务类型都有着自己的优点，同时特定的服务类型可以实现特性的功能，此篇博客便说一说影像服务</p>
<h3 id="什么是影像服务？"><a href="#什么是影像服务？" class="headerlink" title="什么是影像服务？"></a>什么是影像服务？</h3><p>影像服务是将栅格数据和影像数据作为服务发布出去。此时客户端便可以对栅格数据的进行访问。例如：查看栅格的波段信息，查看栅格某一个像元的值等等。</p>
<h3 id="什么数据可以发布为影像服务？"><a href="#什么数据可以发布为影像服务？" class="headerlink" title="什么数据可以发布为影像服务？"></a>什么数据可以发布为影像服务？</h3><p>发布影像服务，对于原始数据是有一定的要求的，当数据出现问题时，数据是不可以发布成功的，影像服务支持的数据主要有：</p>
<blockquote>
<p>栅格数据集<br>栅格图层<br>镶嵌数据集<br>镶嵌图层</p>
</blockquote>
<h3 id="发布影像服务"><a href="#发布影像服务" class="headerlink" title="发布影像服务"></a>发布影像服务</h3><p>发布影像服务非常简单，与地图服务不同的是：发布影像服务需要在ArcCatalog中进行，主要分步骤为：</p>
<p>1.在ArcCatalog找到我们要栅格数据集。<br>2.通过ArcCatalog将我们的栅格共享为影像服务。<br>3.查看服务是否发布成功</p>
<h4 id="在ArcCatalog找到我们要栅格数据集"><a href="#在ArcCatalog找到我们要栅格数据集" class="headerlink" title="在ArcCatalog找到我们要栅格数据集"></a>在ArcCatalog找到我们要栅格数据集</h4><p>发布的数据为数字高程模型（DEM）<br><img src="/2019/08/05/ArcGIS-API-for-JS04/01.png" alt="01.png"></p>
<h4 id="将栅格数据共享为影像服务。"><a href="#将栅格数据共享为影像服务。" class="headerlink" title="将栅格数据共享为影像服务。"></a>将栅格数据共享为影像服务。</h4><p><img src="/2019/08/05/ArcGIS-API-for-JS04/02.png" alt="02.png"><br>到达服务编辑器，发布最简单的影像服务，直接点击发布即可-&gt;发布成功。<br><img src="/2019/08/05/ArcGIS-API-for-JS04/03.png" alt="03.png"></p>
<h3 id="可能发生的错误（若服务发布成功，此处可略去）"><a href="#可能发生的错误（若服务发布成功，此处可略去）" class="headerlink" title="可能发生的错误（若服务发布成功，此处可略去）"></a>可能发生的错误（若服务发布成功，此处可略去）</h3><h4 id="错误发生"><a href="#错误发生" class="headerlink" title="错误发生"></a>错误发生</h4><p>发布服务告知我服务定义失败<br><img src="/2019/08/05/ArcGIS-API-for-JS04/04.png" alt="04.png"></p>
<h4 id="错误原因"><a href="#错误原因" class="headerlink" title="错误原因"></a>错误原因</h4><p>此错误发生的原因是你的DEM存放在某一个数据库中，导致数据在数据库中但是数据的格式有错误。例如，我想把dem导出来，却发现也不能导出，如图所示：<br><img src="/2019/08/05/ArcGIS-API-for-JS04/05.png" alt="05.png"></p>
<h4 id="如何解决错误"><a href="#如何解决错误" class="headerlink" title="如何解决错误"></a>如何解决错误</h4><p>1.用ArcMap打开相应的Dem<br>2.从ArcMap中将相应的栅格数据导出到硬盘上<br>3.重新发布，即可成功。</p>
<h5 id="用ArcMap打开相应的Dem"><a href="#用ArcMap打开相应的Dem" class="headerlink" title="用ArcMap打开相应的Dem"></a>用ArcMap打开相应的Dem</h5><p><img src="/2019/08/05/ArcGIS-API-for-JS04/06.png" alt="06.png"></p>
<h5 id="从ArcMap中将相应的栅格数据导出到硬盘上"><a href="#从ArcMap中将相应的栅格数据导出到硬盘上" class="headerlink" title="从ArcMap中将相应的栅格数据导出到硬盘上"></a>从ArcMap中将相应的栅格数据导出到硬盘上</h5><p><img src="/2019/08/05/ArcGIS-API-for-JS04/07.png" alt="07.png"><br><img src="/2019/08/05/ArcGIS-API-for-JS04/08.png" alt="08.png"><br>然后在catalog中重新发布。</p>

                
                <div class="readmore">
                    <a href="/2019/08/05/ArcGIS-API-for-JS04/">
                        阅读更多
                    </a>
                </div>
            </div>
        
            <div class="post-item">
                <h1>
                    <a href="/2019/08/05/ArcGIS-API-for-JS03/">
                        ArcGIS Server之发布要素服务
                    </a>
                </h1>
                <div class="create">
                    <span>创建于</span>
                    
                        <time datetime="2019-08-05T07:02:49.000Z">
                            2019-08-05
                        </time>
                    
                    <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ArcGIS/">ArcGIS</a></li></ul>
                </div>
                
                    <h3 id="什么是要素服务？"><a href="#什么是要素服务？" class="headerlink" title="什么是要素服务？"></a>什么是要素服务？</h3><p>要素服务可用来通过 Internet 提供要素，并提供显示要素时所要使用的符号系统。之后，客户端可执行查询操作以获取要素，并执行相应的编辑操作。要素服务提供了可用于提高客户端编辑体验的模板。此外，要素服务也可以对关系类和非空间表中的数据进行查询和编辑。<br>简单的说，要素服务的数据是通过ArcSDE将数据储存在数据库中，当客户端请求要素服务时，服务器从数据库中读取数据生成图片，将图片返还给客户端。</p>
<h4 id="要素服务的优点"><a href="#要素服务的优点" class="headerlink" title="要素服务的优点"></a>要素服务的优点</h4><p>要素服务由于数据是储存在数据库中，所以实现的功能多。例如：客户端对服务中的要素进行增删改查，要素服务可以进行渲染，改变图层的颜色</p>
<h4 id="要素服务数据要求"><a href="#要素服务数据要求" class="headerlink" title="要素服务数据要求"></a>要素服务数据要求</h4><p>1、所有数据必须来自单个 ArcSDE 地理数据库。<br>2、所有数据必须通过地理数据库注册。<br>3、如果要允许编辑数据，将需要 ArcSDE 数据的写入权限。使用 OS 身份验证时，必须向 ArcGIS 4、Server 帐户授予这些权限。<br>5、支持版本化和未版本化数据；但是，如果需要使用服务编辑非简单类型（例如，网络边），则需要进行版本化。</p>
<h3 id="发布要素服务"><a href="#发布要素服务" class="headerlink" title="发布要素服务"></a>发布要素服务</h3><p>发布要素服务一般分为以下几个步骤：</p>
<p>1、准备一个 ArcSDE 地理数据库（本实例准备的是SQL Server2008 R2数据库）<br>2、创建一个数据库，并将其升级为地理数据库<br>3、将数据存储到SDE数据库中，并设置数据的属性<br>4、将SDE数据库注册到ArcGIS Server，并发布服务。</p>
<h4 id="准备一个-ArcSDE-地理数据库"><a href="#准备一个-ArcSDE-地理数据库" class="headerlink" title="准备一个 ArcSDE 地理数据库"></a>准备一个 ArcSDE 地理数据库</h4><p>1、安装SQL Server2008 R2数据库。<br>2、若服务器安装了ArcGIS Desktop,那么便不需要单独安装ArcSDE，如果服务器没有安装ArcGIS Desktop，可以选择安装ArcGIS Desktop或者ArcSDE。<br>3、若Linux操作系统，只能单独安装ArcSDE软件</p>
<h4 id="创建一个数据库，并将其升级为地理数据库"><a href="#创建一个数据库，并将其升级为地理数据库" class="headerlink" title="创建一个数据库，并将其升级为地理数据库"></a>创建一个数据库，并将其升级为地理数据库</h4><p>安装完成后 SQL Server2008 R2后，创建一个mydb数据库<br><img src="/2019/08/05/ArcGIS-API-for-JS03/01.png" alt="01.png"><br>打开ArcCatalog连接mydb数据库<br><img src="/2019/08/05/ArcGIS-API-for-JS03/02.png" alt="02.png"></p>
<blockquote>
<p>注：实例名便是数据库中的Server name（一定要对应），然后输入用户名，密码，最后选择我们刚刚创建的数据库mydb</p>
</blockquote>
<p>点击确定，出现我们刚刚创建的数据库localhost. sde<br><img src="/2019/08/05/ArcGIS-API-for-JS03/03.png" alt="03.png"></p>
<p>将mydb数据库升级为地理数据库<br>右击localhost. sde-&gt;启用地理数据库，弹出该画面<br><img src="/2019/08/05/ArcGIS-API-for-JS03/04.png" alt="04.png"><br>注：授权文件为ArcGIS Server授权文件（ecp文件）</p>
<h4 id="将数据存储到SDE数据库中，并设置数据的属性"><a href="#将数据存储到SDE数据库中，并设置数据的属性" class="headerlink" title="将数据存储到SDE数据库中，并设置数据的属性"></a>将数据存储到SDE数据库中，并设置数据的属性</h4><p>将数据导入ArcSDE数据库:右键localhost.sde-&gt;导入-&gt;要素类（多个）</p>
<h4 id="将SDE数据库注册到ArcGIS-Server，并发布服务。"><a href="#将SDE数据库注册到ArcGIS-Server，并发布服务。" class="headerlink" title="将SDE数据库注册到ArcGIS Server，并发布服务。"></a>将SDE数据库注册到ArcGIS Server，并发布服务。</h4><p>1.将要发布的图层拖拽到ArcMap<br>2.点击文件-&gt;共享为-&gt;服务-&gt;发布服务<br>3.注册数据库到ArcGIS Server</p>
<p>点击功能选择Feature Access点击分析<br><img src="/2019/08/05/ArcGIS-API-for-JS03/05.png" alt="05.png"><br>出现错误：点击错误注册地里数据库<br><img src="/2019/08/05/ArcGIS-API-for-JS03/06.png" alt="06.png"><br><img src="/2019/08/05/ArcGIS-API-for-JS03/07.png" alt="07.png"><br><img src="/2019/08/05/ArcGIS-API-for-JS03/08.png" alt="08.png"><br><img src="/2019/08/05/ArcGIS-API-for-JS03/09.png" alt="09.png"><br><img src="/2019/08/05/ArcGIS-API-for-JS03/10.png" alt="10.png"></p>

                
                <div class="readmore">
                    <a href="/2019/08/05/ArcGIS-API-for-JS03/">
                        阅读更多
                    </a>
                </div>
            </div>
        
            <div class="post-item">
                <h1>
                    <a href="/2019/08/05/ArcGIS-API-for-JS01/">
                        ArcGIS Server之发布动态地图服务
                    </a>
                </h1>
                <div class="create">
                    <span>创建于</span>
                    
                        <time datetime="2019-08-05T02:17:48.000Z">
                            2019-08-05
                        </time>
                    
                    <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ArcGIS/">ArcGIS</a></li></ul>
                </div>
                
                    <blockquote>
<p>参考：<a href="https://github.com/CarpenterGISer/ArcGIS-API-For-Javacsript" target="_blank" rel="noopener">https://github.com/CarpenterGISer/ArcGIS-API-For-Javacsript</a></p>
</blockquote>
<p>在WebGIS开发过程中，我们所需要的数据不仅仅来自于ArcGIS online，有时候我们需要发布自己的数据服务,在这里主要说明一下如何利用ArcGIS Server发布自己的动态地图服务。</p>
<h4 id="什么是地图服务"><a href="#什么是地图服务" class="headerlink" title="什么是地图服务?"></a>什么是地图服务?</h4><p>地图服务是一种利用 ArcGIS 使地图可通过 Web 进行访问的方法。我们首先在 ArcMap 中制作地图，然后将地图作为服务发布到 ArcGIS Server 站点上。这样，Internet 用户便可在 Web应用程序、ArcGIS for Desktop、ArcGIS Online 以及其他客户端应用程序中使用此地图服务。<br>当地图服务发布成功后，我们可以通过网址（<a href="http://localhost:6080/arcgis/rest/services）来查看地图服务所支持的操作，地图服务所包含的数据，以及我们还可以通过网址来测试地图服务的功能" target="_blank" rel="noopener">http://localhost:6080/arcgis/rest/services）来查看地图服务所支持的操作，地图服务所包含的数据，以及我们还可以通过网址来测试地图服务的功能</a></p>
<h4 id="地图服务之动态地图服务"><a href="#地图服务之动态地图服务" class="headerlink" title="地图服务之动态地图服务"></a>地图服务之动态地图服务</h4><p>我们常用的地图服务主要分为两种：动态地图服务，切片地图服务（也叫瓦片地图服务），地图服务其实可以理解为图层的集合，在本篇中主要说的是动态地图服务，<br>动态地图服务的特点：</p>
<p>1、动态地图会在用户发出请求时进行绘制。<br>2、地图服务具有允许客户端（例如 ArcGIS web API）动态更改每个图层的行为和外观。<br>3、可以执行属性查询，空间查询等相关功能。</p>
<h4 id="利用ArcMap发布动态地图服务"><a href="#利用ArcMap发布动态地图服务" class="headerlink" title="利用ArcMap发布动态地图服务"></a>利用ArcMap发布动态地图服务</h4><p>利用ArcMap发布自己的服务，主要分为以下几步：</p>
<p>1、用ArcMap打开我们想要发布为服务的数据<br>2、符号化我们的数据（可选）<br>3、利用ArcMap连接ArcGIS Server发布服务</p>
<h4 id="查看地图服务"><a href="#查看地图服务" class="headerlink" title="查看地图服务"></a>查看地图服务</h4><p>若发布到本地，打开并登录服务管理器（<a href="http://localhost:6080/arcgis/manager/）" target="_blank" rel="noopener">http://localhost:6080/arcgis/manager/）</a><br><img src="/2019/08/05/ArcGIS-API-for-JS01/01.png" alt="01.png"><br><img src="/2019/08/05/ArcGIS-API-for-JS01/02.png" alt="02.png"><br><img src="/2019/08/05/ArcGIS-API-for-JS01/03.png" alt="03.png"><br><img src="/2019/08/05/ArcGIS-API-for-JS01/03.png" alt="03.png"><br>接下来我们可以使用ArcGIS API For js,来调用我们的服务做一些事情啦</p>

                
                <div class="readmore">
                    <a href="/2019/08/05/ArcGIS-API-for-JS01/">
                        阅读更多
                    </a>
                </div>
            </div>
        
            <div class="post-item">
                <h1>
                    <a href="/2019/08/05/ArcGIS-API-for-JS02/">
                        ArcGIS Server之发布切片地图服务
                    </a>
                </h1>
                <div class="create">
                    <span>创建于</span>
                    
                        <time datetime="2019-08-05T02:17:48.000Z">
                            2019-08-05
                        </time>
                    
                    <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ArcGIS/">ArcGIS</a></li></ul>
                </div>
                
                    <blockquote>
<p>参考：<a href="https://github.com/CarpenterGISer/ArcGIS-API-For-Javacsript" target="_blank" rel="noopener">https://github.com/CarpenterGISer/ArcGIS-API-For-Javacsript</a></p>
</blockquote>
<h3 id="什么是切片地图服务？"><a href="#什么是切片地图服务？" class="headerlink" title="什么是切片地图服务？"></a>什么是切片地图服务？</h3><p>切片地图服务又叫缓存第服务区，地图缓存是使地图和图像服务更快运行的一种非常有效的方法。创建地图缓存时，服务器会在若干个不同的比例级别上绘制整个地图并存储地图图像的副本。然后，服务器可在某人请求使用地图时分发这些图像。对于服务器来说，每次请求使用地图时，返回缓存的图像要比绘制地图快得多。<br><img src="/2019/08/05/ArcGIS-API-for-JS02/01.png" alt="01.png"></p>
<blockquote>
<p>注：此图片的意思是，将同一幅地图按照不同的比例进行切片，得到相应的地图切片。</p>
</blockquote>
<h4 id="切片地图服务优点"><a href="#切片地图服务优点" class="headerlink" title="切片地图服务优点"></a>切片地图服务优点</h4><p>1、由于切片地图服务中的图片不需要服务器实时生成，本身存在服务器的硬盘上，所以大大提高了服务器的性能。<br>2、图像的详细程度不会对服务器分发副本的速度造成显著影响。</p>
<h4 id="切片地图服务缺点"><a href="#切片地图服务缺点" class="headerlink" title="切片地图服务缺点"></a>切片地图服务缺点</h4><p>1、切片地图服务由于图片事先存在，所以该服务实现的功能有限，例如想隐藏服务中的某一个图层不可以实现。<br>2、当缓存级别较高时，占用的硬盘存储量较大</p>
<h3 id="利用ArcMap发布切片地图服务"><a href="#利用ArcMap发布切片地图服务" class="headerlink" title="利用ArcMap发布切片地图服务"></a>利用ArcMap发布切片地图服务</h3><p>利用ArcMap发布切片地图服务与发布动态地图服务类似，主要分为以下几步：</p>
<p>1、用ArcMap打开我们想要发布为服务的数据<br>2、符号化我们的数据（可选）<br>3、利用ArcMap连接ArcGIS Server<br>4、修改地图服务属性（修改为切片地图服务）<br>5、发布服务到ArcGIS Server</p>
<h4 id="（步骤1-3略）"><a href="#（步骤1-3略）" class="headerlink" title="（步骤1-3略）"></a>（步骤1-3略）</h4><h4 id="步骤4-修改地图服务属性"><a href="#步骤4-修改地图服务属性" class="headerlink" title="步骤4:修改地图服务属性"></a>步骤4:修改地图服务属性</h4><blockquote>
<p>点击缓存-&gt;使用缓存中的切片-&gt;切片方案-&gt;设置缓存级别</p>
</blockquote>
<p><img src="/2019/08/05/ArcGIS-API-for-JS02/02.png" alt="02.png"></p>
<blockquote>
<p>注： 这个地方设置的是5个级别，可以看到缓存的大小是小于5M，当设置的级别越多时，缓存的大小基本成几何倍数增长</p>
</blockquote>
<h3 id="查看硬盘缓存"><a href="#查看硬盘缓存" class="headerlink" title="查看硬盘缓存"></a>查看硬盘缓存</h3><p>可以去ArcGIS Server站点目录查看缓存（我的站点是在：C:\arcgisserver）<br>进入C:\arcgisserver\directories\arcgiscache可以看到我们刚刚发布的服务myTile<br><img src="/2019/08/05/ArcGIS-API-for-JS02/03.png" alt="03.png"></p>
<blockquote>
<p>注：如果发布的不是切片地图服务。此目录下面是不会有相应的文件夹的</p>
</blockquote>
<p>去ArcGIS REST Services Directory查看服务</p>
<p>在网址上输入<a href="http://localhost:6080/arcgis/rest/services进入服务目录，进入" target="_blank" rel="noopener">http://localhost:6080/arcgis/rest/services进入服务目录，进入</a> Test文件夹可以看到我们发布的两个服务<br><img src="/2019/08/05/ArcGIS-API-for-JS02/04.png" alt="04.png"></p>
<blockquote>
<p>注：可以看到myTile后面也加了一个（MapServer），可以得知切片地图服务也是属于地图服务的一种。</p>
</blockquote>

                
                <div class="readmore">
                    <a href="/2019/08/05/ArcGIS-API-for-JS02/">
                        阅读更多
                    </a>
                </div>
            </div>
        
            <div class="post-item">
                <h1>
                    <a href="/2019/07/13/ArcGIS/">
                        ArcGIS
                    </a>
                </h1>
                <div class="create">
                    <span>创建于</span>
                    
                        <time datetime="2019-07-13T13:35:13.000Z">
                            2019-07-13
                        </time>
                    
                    <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ArcGIS/">ArcGIS</a></li></ul>
                </div>
                
                    
                
                <div class="readmore">
                    <a href="/2019/07/13/ArcGIS/">
                        阅读更多
                    </a>
                </div>
            </div>
        
    </div>


    <div id="content-aside">
    <div class="content-aside-owner">
        <div id="owner">
    <div class="avatar-bg">
        <div class="index-page">
            <div class="banner">
                <div class="slide slide1">
                    <div class="bg-wrapper">
                        <div class="bg" id="container_left">
                            <div id="canvas_left"></div>
                        </div>
                    </div>
                </div>
                <div class="slide slide2">
                    <div class="bg-wrapper">
                        <div class="bg" id="container_right">
                            <div id="canvas_right"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a href="/"><img class="avatar" src="/images/avatar.jpg" alt=""></a>
    <a href="/"><h3 class="author">I&#39;m xiedandan</h3></a>
    <h4>^_^</h4>
    <div class="social">
        
            
              <a href="https://github.com/xdd7130" title="github" class="fa fa-github" target="_blank"></a>
            
        
            
              <a href="#" title="weibo" class="fa fa-weibo" target="_blank"></a>
            
        
    </div>
</div>
    </div>
    
        <div class="content-aside-about">
            <h2>
                <a href="/about">关于</a>
            </h2>
        </div>
    
    <div class="content-aside-tags">
        <h2>
            <a href="/tags">
                标签
                <sup style="font-size: 12px">
                    [32]
                </sup>
            </a>
        </h2>
    </div>
    
<aside id="categories">
    <h2>分类</h2>
    
        <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ArcGIS/">ArcGIS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cesium/">Cesium</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Node/">Node</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/React/">React</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/">Vue</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/其他/">其他</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/基础前端技术/">基础前端技术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/小程序/">小程序</a></li></ul>
    
</aside>

    
<aside id="acchives">
    <h2>归档</h2>
    
    <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li></ul>
    
</aside>

</div>

</div>
<nav id="pagination" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/5/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/7/">下一页 &raquo;</a>
</nav>

    </div>
</div>
<footer id="footer">
     <div id="copyright">&copy; I&#39;m xiedandan  2021</div>
     
             <!-- 不蒜子统计 -->
             <span id="busuanzi_container_site_pv">
                     本站总访问量<span id="busuanzi_value_site_pv" style='color:#17a167'></span>次
             </span>
             <span class="post-meta-divider">|</span>
             <span id="busuanzi_container_site_uv">
                     本站访客数<span id="busuanzi_value_site_uv"  style='color:#17a167'></span>人
             </span>
             <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
       
    <div id="theme">
        Powered by <a href="http://hexo.io">Hexo</a>. Theme by <a href="https://github.com/markyong/hexo-theme-stage">Stage</a>
    </div>
</footer>
<script src="/lib/js/waterrippleeffect.min.js"></script>
<script src="/js/header-bg.main.js"></script>

    <script src="/lib/js/cav.js"></script>
    <script src="/js/avatar-bg.main.js"></script>

</body>
</html>
