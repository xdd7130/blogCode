---
title: ArcGIS Server之发布GP服务-返回矢量数据
date: 2019-08-05 16:51:51
categories:
- ArcGIS
tags: [ArcGIS API for JS]
---
### 什么是GP服务
在WebGIS开发当中，虽然ArcGIS API提供给我们很多的接口，但是现实需求总是千变万化的，很多可能部分需求在我们的API中没有实现，而GP服务就弥补了这一个缺点，我们可以将ArcGIS中的GP工具发布为服务，提供给我们前端调用。
#### GP服务的分类
GP服务从返回类型上可以分为：
>返回矢量数据
>返回栅格数据

#### GP服务的参数对应
在ArcGIS中，GP工具的参数和GP服务的参数是有一个对应参数的，在现实开发中，GP服务总是容易调用失败，这很有可能便是GP服务的参数不对应导致，因此：当我们发布GP服务时，参数便是我们高度重视的地方。以下是GP服务和GP工具参数对应表：
![01.png](01.png)
### 发布GP服务
 在本实例中以缓冲区分析为例，发布一个GP服务。在ArcGIS10.1版本以后，发布GP服务之前需要将GP工具成功运行一次才可。发布GP服务的步骤大致分为以下几步：

1.创建GP模型
2.修改模型参数，运行模型
3.在结果窗口将运行成功的GP模型共享为服务
#### 创建GP模型

新建一个工具箱并创建一个新模型取名为Mybuffer
![02.png](02.png)
![03.png](03.png)
右键Mybuffer点击编辑构建缓冲区模型
![04.png](04.png)
#### 修改模型参数并运行模型 
![05.png](05.png)
修改Input变量的数据类型，改为输入要素集
![06.png](06.png)
设置临时命名空间，右键空白处，点击模型属性，设置环境
![07.png](07.png)
点击保存运行模型
![08.png](08.png)
运行成功
![09.png](09.png)
#### 在结果窗口将运行成功的GP模型共享为服务
点击地理处理->结果打开结果窗口
![10.png](10.png)
右键模型共享为地理处理服务
![11.png](11.png)